#LyX 2.3 created this file. For more info see http://www.lyx.org/
\lyxformat 544
\begin_document
\begin_header
\save_transient_properties true
\origin unavailable
\textclass extbook
\begin_preamble

\usepackage {graphicx}
\usepackage {longtable}
\usepackage {indentfirst}
\renewenvironment{center}{\par\centering}{\par}

% Comentar linhas abaixo se não estiver usando pacote abntex
% ou se o pacote ainda não foi instalado.
% neste caso sugere-se usar citações no padrão apalike (lembra o da anbt).
%\usepackage[alf ,abnt-etal-cite=2 , abnt-year-extra-label=yes , abnt-etal-list=0]{abntcite}
%\usepackage {helvet}
%\renewcommand {\familydefault}{\sfdefault}

% Para uso de listagens de código
\usepackage{color}
\definecolor{azulclaro}{rgb}{0.6,1,1}%   rgb color model
% Informa que vai usar o pacote listings, 
% disponibilizado em /usr/share/texmf/doc/latex/styles/listings.dvi
\usepackage{listings}
\end_preamble
\use_default_options false
\master DocumentoMestre-Trabalho-ProgramacaoPratica.lyx
\maintain_unincluded_children false
\language brazilian
\language_package auto
\inputencoding auto
\fontencoding global
\font_roman "default" "default"
\font_sans "default" "default"
\font_typewriter "default" "default"
\font_math "auto" "auto"
\font_default_family default
\use_non_tex_fonts false
\font_sc false
\font_osf false
\font_sf_scale 100 100
\font_tt_scale 100 100
\use_microtype false
\use_dash_ligatures true
\graphics default
\default_output_format default
\output_sync 0
\bibtex_command default
\index_command default
\float_placement H
\paperfontsize 12
\spacing onehalf
\use_hyperref false
\papersize a4paper
\use_geometry true
\use_package amsmath 1
\use_package amssymb 1
\use_package cancel 1
\use_package esint 0
\use_package mathdots 1
\use_package mathtools 1
\use_package mhchem 1
\use_package stackrel 1
\use_package stmaryrd 1
\use_package undertilde 1
\cite_engine basic
\cite_engine_type default
\biblio_style apalike
\use_bibtopic false
\use_indices false
\paperorientation portrait
\suppress_date false
\justification true
\use_refstyle 0
\use_minted 0
\index Índice
\shortcut idx
\color #008000
\end_index
\paperwidth 210mm
\paperheight 297mm
\leftmargin 30mm
\topmargin 25mm
\rightmargin 20mm
\bottommargin 20mm
\secnumdepth 2
\tocdepth 2
\paragraph_separation indent
\paragraph_indentation default
\is_math_indent 0
\math_numbering_side default
\quotes_style english
\dynamic_quotes 0
\papercolumns 1
\papersides 1
\paperpagestyle fancy
\tracking_changes false
\output_changes false
\html_math_output 0
\html_css_as_file 0
\html_be_strict false
\end_header

\begin_body

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
lhead{
\backslash
thechapter
\backslash
space - Elaboração}  
\end_layout

\end_inset


\end_layout

\begin_layout Chapter
Elaboração
\begin_inset Index idx
status collapsed

\begin_layout Plain Layout
Elaboração
\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "sec:Elaboração"

\end_inset


\end_layout

\begin_layout Standard
Depois da definição dos objetivos, da especificação do software e da montagem
 dos primeiros diagramas de caso de uso, a equipe de desenvolvimento do
 projeto de engenharia passa por um processo de elaboração que envolve o
 estudo de conceitos relacionados ao sistema a ser desenvolvido, a análise
 de domínio e a identificação de pacotes.
 
\end_layout

\begin_layout Standard
Na elaboração fazemos uma análise dos requisitos, ajustando os requisitos
 iniciais de forma a desenvolver um sistema útil, que atenda às necessidades
 do usuário e, na medida do possível, permita seu reuso e futura extensão.
\end_layout

\begin_layout Section
Análise de domínio
\end_layout

\begin_layout Standard
Após estudo dos requisitos/especificações do sistema, algumas entrevistas,
 estudos na biblioteca e disciplinas do curso foi possível identificar nosso
 domínio de trabalho:
\end_layout

\begin_layout Itemize
Fenômeno dos transportes: área principal no qual o software foi desenvolvido.
 Utilizando equação do balanço de temperatura, propriedades termofísicas
 de materiais e condutividade térmica.
\end_layout

\begin_layout Itemize
Engenharia de petróleo: tópico principal para as simulações do software,
 especialmente a simulação de injeção térmica em reservatórios.
\end_layout

\begin_layout Itemize
Modelagem numérica computacional: desenvolvimento das equações diferenciais
 do balanço de temperatura, para que seja possível simular os mais diversos
 casos.
\end_layout

\begin_layout Itemize
Programação: utilização da linguagem C++ e paradigma orientado ao objeto,
 além de paralelismos para utilizar o máximo do poder de processamento e
 acelerar o software.
\end_layout

\begin_layout Itemize
Pacote de malhas: organiza o objeto desenhado em vetores.
\end_layout

\begin_layout Itemize
Pacote de simulação: resolve a equação da temperatura por métodos numéricos.
\end_layout

\begin_layout Itemize
Pacote de interpolação: utilizado para realizar interpolação com propriedades
 termofísicas dos materiais.
\end_layout

\begin_layout Itemize
Pacote de correlação: utilizado para realizar correlações com propriedades
 termofísicas dos materiais.
\end_layout

\begin_layout Itemize
Pacote de interface ao usuário: utilização da biblioteca Qt, para criar
 interface gráfica amigável.
\end_layout

\begin_layout Itemize
Pacote de gráficos: utilização da biblioteca qcustomplot, para montar os
 melhores gráficos para o problema.
\end_layout

\begin_layout Section
Formulação teórica
\end_layout

\begin_layout Standard
A equação da difusão de calor (Cap.
 2 Incropera####) pode ser estruturada a partir da Lei de Fourier.
 A equação geral da difusão de calor em meios tridimensionais cartesianos
 está na equação 
\begin_inset CommandInset ref
LatexCommand ref
reference "eq:EquacaoGeralDifusaoTermica"
plural "false"
caps "false"
noprefix "false"

\end_inset

:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
\frac{\partial^{2}T}{\partial x^{2}}+\frac{\partial^{2}T}{\partial y^{2}}+\frac{\partial^{2}T}{\partial z^{2}}=\frac{\rho c_{p}}{k}\frac{\partial T}{\partial t}\label{eq:EquacaoGeralDifusaoTermica}
\end{equation}

\end_inset


\end_layout

\begin_layout Standard
Onde 
\begin_inset Formula $\rho$
\end_inset

 é a massa específica, 
\begin_inset Formula $c_{p}$
\end_inset

 é a capacidade térmica, 
\begin_inset Formula $k$
\end_inset

 é a condutividade térmica.
\end_layout

\begin_layout Standard
A modelagem pode ser feita por diferenças finitas atrasadas BTCS, onde cada
 derivada é representada abaixo:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
\frac{\partial^{2}T}{\partial x^{2}}=\frac{T_{i+1,j,k}^{n+1}-2T_{i,j,k}^{n+1}+T_{i-1,j,k}^{n+1}}{\Delta x}
\end{equation}

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
\frac{\partial^{2}T}{\partial y^{2}}=\frac{T_{i,j+1,k}^{n+1}-2T_{i,j,k}^{n+1}+T_{i,j-1,k}^{n+1}}{\Delta y}
\end{equation}

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
\frac{\partial^{2}T}{\partial z^{2}}=\frac{T_{i,j,k+1}^{n+1}-2T_{i,j,k}^{n+1}+T_{i,j,k-1}^{n+1}}{\Delta z}
\end{equation}

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
\frac{\partial T}{\partial t}=\frac{T_{i,j}^{n+1}-T_{i,j}^{n}}{\Delta t}
\end{equation}

\end_inset


\end_layout

\begin_layout Standard
Substituindo as diferenças finitas na equação geral:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
\begin{array}{c}
\frac{T_{i+1,j,k}^{n+1}-2T_{i,j,k}^{n+1}+T_{i-1,j,k}^{n+1}}{\Delta x}+\frac{T_{i,j+1,k}^{n+1}-2T_{i,j,k}^{n+1}+T_{i,j-1,k}^{n+1}}{\Delta y}+\\
\frac{T_{i,j,k+1}^{n+1}-2T_{i,j,k}^{n+1}+T_{i,j,k-1}^{n+1}}{\Delta z}=\frac{\rho c_{p}}{k}\frac{T_{i,j,k}^{n+1}-T_{i,j,k}^{n}}{\Delta t}
\end{array}
\end{equation}

\end_inset


\end_layout

\begin_layout Standard
Onde a malha é homogênea na superfície, mas não entre os perfis, ou seja,
 
\begin_inset Formula $\Delta x=\Delta y\neq\Delta z$
\end_inset

.
 Substituindo:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
\begin{array}{c}
\frac{T_{i+1,j,k}^{n+1}+T_{i,j+1,k}^{n+1}-4T_{i,j,k}^{n+1}+T_{i-1,j,k}^{n+1}+T_{i,j-1,k}^{n+1}}{\Delta x}+\frac{T_{i,j,k+1}^{n+1}-2T_{i,j,k}^{n+1}+T_{i,j,k-1}^{n+1}}{\Delta z}\\
=\frac{\rho c_{p}}{k}\frac{T_{i,j,k}^{n+1}-T_{i,j,k}^{n}}{\Delta t}
\end{array}
\end{equation}

\end_inset


\end_layout

\begin_layout Standard
Multiplicando pelo múltiplo comum:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
\begin{array}{c}
\frac{\Delta z\left(T_{i+1,j,k}^{n+1}+T_{i,j+1,k}^{n+1}-4T_{i,j,k}^{n+1}+T_{i-1,j,k}^{n+1}+T_{i,j-1,k}^{n+1}\right)+\Delta x\left(T_{i,j,k+1}^{n+1}-2T_{i,j,k}^{n+1}+T_{i,j,k-1}^{n+1}\right)}{\Delta x\Delta z}\\
=\frac{\rho c_{p}}{k}\frac{T_{i,j,k}^{n+1}-T_{i,j,k}^{n}}{\Delta t}
\end{array}
\end{equation}

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
\begin{array}{c}
\Delta z\left(T_{i+1,j,k}^{n+1}+T_{i,j+1,k}^{n+1}-4T_{i,j,k}^{n+1}+T_{i-1,j,k}^{n+1}+T_{i,j-1,k}^{n+1}\right)+\Delta x\left(T_{i,j,k+1}^{n+1}-2T_{i,j,k}^{n+1}+T_{i,j,k-1}^{n+1}\right)\\
=\frac{\rho c_{p}\Delta x\Delta z}{k\Delta t}\left(T_{i,j,k}^{n+1}-T_{i,j,k}^{n}\right)
\end{array}
\end{equation}

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
\begin{array}{c}
\Delta zT_{i+1,j,k}^{n+1}+\Delta zT_{i,j+1,k}^{n+1}-4\Delta zT_{i,j,k}^{n+1}+\Delta zT_{i-1,j,k}^{n+1}+\Delta zT_{i,j-1,k}^{n+1}+\\
\Delta xT_{i,j,k+1}^{n+1}-2\Delta xT_{i,j,k}^{n+1}+\Delta xT_{i,j,k-1}^{n+1}=\frac{\rho c_{p}\Delta x\Delta z}{k\Delta t}T_{i,j,k}^{n+1}-\frac{\rho c_{p}\Delta x\Delta z}{k\Delta t}T_{i,j,k}^{n}
\end{array}
\end{equation}

\end_inset


\end_layout

\begin_layout Standard
Encontrando a seguinte equação:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
\begin{array}{c}
\Delta zT_{i+1,j,k}^{n+1}+\Delta zT_{i,j+1,k}^{n+1}+\Delta xT_{i,j,k+1}^{n+1}\\
+\Delta zT_{i-1,j,k}^{n+1}+\Delta zT_{i,j-1,k}^{n+1}+\Delta xT_{i,j,k-1}^{n+1}\\
-\left(4\Delta z+2\Delta x+\frac{\rho c_{p}\Delta x\Delta z}{k\Delta t}\right)T_{i,j,k}^{n+1}\\
=-\frac{\rho c_{p}\Delta x\Delta z}{k\Delta t}T_{i,j,k}^{n}
\end{array}\label{eq:EquacaoGeralDiscretizada}
\end{equation}

\end_inset


\end_layout

\begin_layout Standard
A Equação 
\begin_inset CommandInset ref
LatexCommand ref
reference "eq:EquacaoGeralDiscretizada"
plural "false"
caps "false"
noprefix "false"

\end_inset

 é a geral da difusão de calor discretizada por diferenças finitas.
 Para implementar no software, é necessário modelar as fronteiras e, como
 é buscado uma generalização da equação para um objeto com superfície qualquer,
 será necessário entender alguns pontos.
\end_layout

\begin_layout Standard
Começamos entendendo a equação 
\begin_inset CommandInset ref
LatexCommand ref
reference "eq:EquacaoGeralDiscretizada"
plural "false"
caps "false"
noprefix "false"

\end_inset

: na primeira linha, são concentrados pontos de temperaturas localizadas
 posteriormente ao estudado.
 Na segunda, são pontos anteriores ao estudado.
 Já o termo em parênteses na terceira linha, é o coeficiente para o termo
 estudado.
 Por fim, a última linha a direita da igualdade, é a temperatura no ponto
 estudado, mas no tempo anterior.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename C:/Users/nicholas/Desktop/ProjetoEngenharia/Projeto-TCC-SimuladorDifusaoTermica/imagens/malha.bmp
	lyxscale 70
	scale 70

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Malha utilizada para calcular um ponto de temperatura.
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
A seguir, serão realizadas duas etapas para finalizar a discretização.
 Primeiro a modelagem das fronteiras e, em seguida, a generalização da superfíci
e de fronteira.
\end_layout

\begin_layout Subsection*
Primeira Parte
\end_layout

\begin_layout Standard
É discretizada a condição de contorno de Neumann, onde não há trocas com
 o meio externo, considerando que não há trocas com o ponto anterior no
 eixo x:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
\frac{\partial T}{\partial x}=\frac{T_{i,j,k}^{n+1}-T_{i-1,j,k}^{n+1}}{\Delta x}=0
\end{equation}

\end_inset


\end_layout

\begin_layout Standard
logo,
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
T_{i-1,j,k}^{n+1}=T_{i,j,k}^{n+1}
\end{equation}

\end_inset


\end_layout

\begin_layout Standard
Todas as seis fronteiras possuem esse comportamento, então:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
\begin{array}{c}
T_{i-1,j,k}^{n+1}=T_{i,j,k}^{n+1}\\
T_{i+1,j,k}^{n+1}=T_{i,j,k}^{n+1}\\
T_{i,j-1,k}^{n+1}=T_{i,j,k}^{n+1}\\
T_{i,j+1,k}^{n+1}=T_{i,j,k}^{n+1}\\
T_{i,j,k-1}^{n+1}=T_{i,j,k}^{n+1}\\
T_{i,j,k+1}^{n+1}=T_{i,j,k}^{n+1}
\end{array}\label{eq:ModelagemFronteiras}
\end{equation}

\end_inset


\end_layout

\begin_layout Subsection*
Segunda Parte
\end_layout

\begin_layout Standard
Voltamos agora para a equação 
\begin_inset CommandInset ref
LatexCommand ref
reference "eq:EquacaoGeralDiscretizada"
plural "false"
caps "false"
noprefix "false"

\end_inset

, faremos um caso onde há fronteira do lado esquerdo no eixo x (caso da
 primeira linha da equação 
\begin_inset CommandInset ref
LatexCommand ref
reference "eq:ModelagemFronteiras"
plural "false"
caps "false"
noprefix "false"

\end_inset

):
\end_layout

\begin_layout Standard
\begin_inset Formula 
\[
\begin{array}{c}
\Delta zT_{i+1,j,k}^{n+1}+\Delta zT_{i,j+1,k}^{n+1}+\Delta xT_{i,j,k+1}^{n+1}\\
+\underline{\Delta zT_{i,j,k}^{n+1}}+\Delta zT_{i,j-1,k}^{n+1}+\Delta xT_{i,j,k-1}^{n+1}\\
-\left(4\Delta z+2\Delta x+\frac{\rho c_{p}\Delta x\Delta z}{k\Delta t}\right)T_{i,j,k}^{n+1}\\
=-\frac{\rho c_{p}\Delta x\Delta z}{k\Delta t}T_{i,j,k}^{n}
\end{array}
\]

\end_inset


\end_layout

\begin_layout Standard
Arrumando a equação:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
\begin{array}{c}
\Delta zT_{i+1,j,k}^{n+1}+\Delta zT_{i,j+1,k}^{n+1}+\Delta xT_{i,j,k+1}^{n+1}\\
+\Delta zT_{i,j-1,k}^{n+1}+\Delta xT_{i,j,k-1}^{n+1}\\
-\left(3\Delta z+2\Delta x+\frac{\rho c_{p}\Delta x\Delta z}{k\Delta t}\right)T_{i,j,k}^{n+1}\\
=-\frac{\rho c_{p}\Delta x\Delta z}{k\Delta t}T_{i,j,k}^{n}
\end{array}
\end{equation}

\end_inset


\end_layout

\begin_layout Standard
Podemos perceber que o termo 
\shape italic
i-1,j,k
\shape default
 sumiu da equação, e dimuiu o número 4 dentro do parênteses para 3, indicando
 que o número 4 é diretamente relacionado ao número de fronteiras da superfície
 xy, e o número 2, do eixo z.
\end_layout

\begin_layout Standard
Isso quer dizer que, caso exista uma fronteira na dimensão x ou y, esse
 termo deve ser anulado (condição de fronteira), e retirado 1 do total das
 4 fronteiras e, caso exista uma fronteira no sentido de z, deve ser retirado
 a quantidade de fronteiras do total de 2.
 Portanto, é definito duas novas variáveis para o problema, 
\begin_inset Formula $nx$
\end_inset

 e 
\begin_inset Formula $nz$
\end_inset

, onde 
\begin_inset Formula $nx\in\left[0;4\right]$
\end_inset

e 
\begin_inset Formula $nz\in\left[0;2\right]$
\end_inset


\end_layout

\begin_layout Standard
Pode-se ir além, e provar o caso onde há fronteiras em todos os sentidos:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
\begin{array}{c}
\Delta zT_{i1,j,k}^{n+1}+\Delta zT_{i,j1,k}^{n+1}+\Delta xT_{i,j,k1}^{n+1}\\
+\Delta zT_{i,j,k}^{n+1}+\Delta zT_{i,j1,k}^{n+1}+\Delta xT_{i,j,k1}^{n+1}\\
-\left(4\Delta z+2\Delta x+\frac{\rho c_{p}\Delta x\Delta z}{k\Delta t}\right)T_{i,j,k}^{n+1}\\
=-\frac{\rho c_{p}\Delta x\Delta z}{k\Delta t}T_{i,j,k}^{n}
\end{array}
\end{equation}

\end_inset


\end_layout

\begin_layout Standard
resultando em
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
T_{i,j,k}^{n+1}=\frac{\frac{\rho c_{p}\Delta x\Delta z}{k\Delta t}}{\frac{\rho c_{p}\Delta x\Delta z}{k\Delta t}}T_{i,j,k}^{n}
\end{equation}

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
T_{i,j,k}^{n+1}=T_{i,j,k}^{n}
\end{equation}

\end_inset


\end_layout

\begin_layout Standard
Ou seja, um ponto isolado no espaço não tem variação de temperatura.
\end_layout

\begin_layout Standard
Portanto, para ser possível implementar a equação discretizada 
\begin_inset CommandInset ref
LatexCommand ref
reference "eq:EquacaoGeralDiscretizada"
plural "false"
caps "false"
noprefix "false"

\end_inset

 em C++, será utilizado:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
\begin{array}{c}
T_{i,j,k}^{n+1}=\left(nx\Delta z+nz\Delta x+\frac{\rho c_{p}\Delta x\Delta z}{k\Delta t}\right)^{-1}\left[\begin{array}{c}
\frac{\rho c_{p}\Delta x\Delta z}{k\Delta t}T_{i,j,k}^{n}+\\
\Delta zT_{i+1,j,k}^{n+1}+\Delta zT_{i,j+1,k}^{n+1}+\Delta xT_{i,j,k+1}^{n+1}\\
\Delta zT_{i-1,j,k}^{n+1}+\Delta zT_{i,j-1,k}^{n+1}+\Delta xT_{i,j,k-1}^{n+1}]
\end{array}+\right]\end{array}\label{eq:EquacaoDiscretizadaFinal}
\end{equation}

\end_inset


\end_layout

\begin_layout Subsection
Renderização 3D
\end_layout

\begin_layout Standard
Após o usuário desenhar algum objeto no software, pode ser de interesse
 dele observar como seria em renderização 3D.
 Portanto, é implementado algoritmos para essa renderização.
 
\end_layout

\begin_layout Standard
Inicialmente, é interessante observar a complexidade da renderização: um
 objeto 3D deve ser apresentado em uma tela 2D, com a ilusão de ótica que
 é um objeto com profundidade.
 Por exemplo, um cubo com arestas de tamanho 1 cm é mostrado nos quatro
 casos da figura abaixo:
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset CommandInset label
LatexCommand label
name "fig_cubos_3D"

\end_inset


\begin_inset Graphics
	filename C:/Users/nicholas/Desktop/ProjetoEngenharia/Projeto-TCC-SimuladorDifusaoTermica/imagens/ppt/cubos_3D.png
	lyxscale 70
	scale 70

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
(a) Observador alinhado com uma das faces do cubo.
 (b) observador não está alinhado e não foram removidas arestas ocultas.
 O cérebro consegue interpretar que é um objeto 3D, mas fica confuso entre
 os casos (c) e (d).
 
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Todos cantos do cubo da figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig_cubos_3D"
plural "false"
caps "false"
noprefix "false"

\end_inset

 estão na mesma posição, o que mudou foi o ângulo do observador com o objeto.
\end_layout

\begin_layout Standard
Utilizando a matriz de rotação do autor 
\begin_inset CommandInset citation
LatexCommand cite
key "Herter_1993"
literal "false"

\end_inset

 mostrada em 
\begin_inset CommandInset ref
LatexCommand ref
reference "eq:matriz_rotacao"
plural "false"
caps "false"
noprefix "false"

\end_inset

, é possível rotacionar qualquer ponto dependendo dos três angulos do observador.
 Para isso, é multiplicado o vetor das posições dos pontos com a matriz
 da rotação:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
\begin{array}{c}
R(\alpha,\beta,\gamma)=\\
\left[\begin{array}{ccccc}
cos(\gamma)cos(\beta) &  & cos(\gamma)sin(\beta)sin(\alpha)-sin(\gamma)cos(\alpha) &  & cos(\gamma)sin(\beta)sin(\alpha)+sin(\gamma)cos(\alpha)\\
sin(\gamma)cos(\beta) &  & sin(\gamma)sin(\beta)sin(\alpha)+cos(\gamma)cos(\alpha) &  & sin(\gamma)sin(\beta)cos(\alpha)-cos(\gamma)sin(\alpha)\\
-sin(\beta) &  & cos(\beta)*sin(\alpha) &  & cos(\beta)*cos(\alpha)
\end{array}\right]
\end{array}\label{eq:matriz_rotacao}
\end{equation}

\end_inset


\end_layout

\begin_layout Standard
Ou seja, inicialmente, um cubo de aresta 3 cm, com uma margem de 1 cm, pode
 ser mostrado na tela (monitor) com os pontos do caso (a) da figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig_cubos_3D_screen"
plural "false"
caps "false"
noprefix "false"

\end_inset

.
 O observador está alinhado com o objeto.
 
\end_layout

\begin_layout Standard
Conforme desejado, o objeto pode mudar seu ângulo com o observador, como
 no caso (b), onde os ângulos x e y passaram a ter o valor de 0.1 radianos.
 Não foi só os pontos de trás do cubo que aparecem (e mudaram seus valores),
 mas todos os pontos foram modificados.
 
\end_layout

\begin_layout Standard
Além disso, a aresta possui valor ligeiramente menor que 3, pois não é mais
 
\begin_inset Quotes eld
\end_inset

de frente
\begin_inset Quotes erd
\end_inset

 que o observador está olhando, mas ligeiramente de lado.
 Mesmo que o objeto cubo tenha aresta de 3 centimetros.
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset CommandInset label
LatexCommand label
name "fig_cubos_3D_screen"

\end_inset


\begin_inset Graphics
	filename C:/Users/nicholas/Desktop/ProjetoEngenharia/Projeto-TCC-SimuladorDifusaoTermica/imagens/ppt/cubo_3D_points_rotations.png

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
(a) o cubo está com ângulos nulos.
 (b) ângulo x e y estão com valor de 0.1 radianos.
 
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Nos desenhos do simulador, cada pixel da figura, é uma célula com propriedades
 que serão calculadas, possuindo material, temperatura e volume.
 Como o usuário pode desenhar por pixel, a renderização 3D deve partir do
 princípio que cada pixel é um potencial objeto que deve obrigatoriamente
 ser desenhado.
 
\end_layout

\begin_layout Standard
Inicialmente, essa conclusão pode ficar vaga, pois todas as células do simulador
 devem ser desenhadas mas, quando a simulação fica grande, são vários objetos
 renderizando ao mesmo tempo, tornando muito lenta a simulação.
 Então algumas considerações são feitas no algoritmo para otimizar a renderizaçã
o.
\end_layout

\begin_layout Standard
Primeiro, é desejável desenhar triângulos, e não pontos ou retas, por 2
 motivos: geometria simples, possui normal, e a biblioteca do Qt consegue
 desenhar e preencher a área com qualquer cor desejável.
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset CommandInset label
LatexCommand label
name "fig_cubos_3D_triangles"

\end_inset


\begin_inset Graphics
	filename C:/Users/nicholas/Desktop/ProjetoEngenharia/Projeto-TCC-SimuladorDifusaoTermica/imagens/ppt/cubo_3D_points_rotations_triangles.png

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Mesmo desenho da figura anterior, mas agora renderizando a partir de triângulos.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
O segundo motivo apresentado, é o mais importante dos três.
 Um triângulo possui três pontos, podendo ser reduzido para dois vetores
 (subtraindo o ponto de origem dos outros dois pontos).
 Com isso, é obtido dos vetores 
\begin_inset Formula $\boldsymbol{a}=\{a_{1},a_{2},a_{3}\}$
\end_inset

 e o vetor 
\series bold

\begin_inset Formula $\boldsymbol{b}=\{b_{1},b_{2},b_{3}\}$
\end_inset

 
\series default
permitindo a realização do produto vetorial:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
\boldsymbol{a}\times\boldsymbol{b}=\left[\begin{array}{ccc}
\boldsymbol{i} & \boldsymbol{j} & \boldsymbol{k}\\
a_{1} & a_{2} & a_{3}\\
b_{1} & b_{2} & b_{3}
\end{array}\right]
\end{equation}

\end_inset


\end_layout

\begin_layout Standard
Ou simplesmente:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{equation}
\boldsymbol{a}\times\boldsymbol{b}=(a_{2}b_{3}-a_{3}b_{2})\boldsymbol{i}-(a_{1}b_{3}-a_{3}b_{1})\boldsymbol{k}+(a_{1}b_{2}-a_{2}b_{1})\boldsymbol{j}\label{eq:normal_resumido}
\end{equation}

\end_inset


\end_layout

\begin_layout Standard
Utilizando a Regra da Mão Direita
\begin_inset Formula $^{\ref{fn:rodape_regra_mao_direita}}$
\end_inset

, é possível entender a utilidade da equação 
\begin_inset CommandInset ref
LatexCommand ref
reference "eq:normal_resumido"
plural "false"
caps "false"
noprefix "false"

\end_inset

, o caso (a) da figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig_normal"
plural "false"
caps "false"
noprefix "false"

\end_inset

, mostra uma normal saindo do papel, em direção ao olho do leitor, logo,
 é um triângulo que deve ser renderizado.
 O caso (b) possui uma normal no sentido contrário, e não faz sentido desenhar
 esse triângulo, pois está oculto pelo resto do objeto.
\end_layout

\begin_layout Standard
\begin_inset Foot
status open

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fn:rodape_regra_mao_direita"

\end_inset

Para utilizar a Regra da Mão Direita, posicione o dedo polegar sobre o ponto
 
\series bold
o
\series default
, e estique o indicador para o ponto 
\series bold
a
\series default
, agora, feche o indicador no sentido do ponto 
\series bold
b
\series default
 (seta curvada mostra o sentido que a ponta do indicador deve realizar).
 No caso (a) da figura, o dedo polegar fica no sentido para fora do papel,
 e o caso (b), para dentro.
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset CommandInset label
LatexCommand label
name "fig_normal"

\end_inset


\begin_inset Graphics
	filename C:/Users/nicholas/Desktop/ProjetoEngenharia/Projeto-TCC-SimuladorDifusaoTermica/imagens/ppt/normal.png

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
(a) mostra um caso onde a normal é na direção do leitor e (b) mostra um
 caso onde a normal é para dentro da folha.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Essa simples operação condicional do valor positivo/negativo de 
\series bold
j 
\series default
da normal, reduz a renderização de objetos ocultos, e otimiza o software
 em duas vezes.
\end_layout

\begin_layout Standard
Uma outra condição implementada foi a de avaliar se o objeto possui fronteira
 com outro objeto.
 Com isso, não é necessário renderizar 4 triângulos dessas duas superfícies
 em contato.
 Como estão em contato, não deve ser renderizada sob hipótese alguma.
\end_layout

\begin_layout Standard
Por fim, antes de renderizar os numerosos triângulos, eles são colocadas
 em ordem crescente com o valor de 
\series bold
j
\series default
 da normal.
 Isso serve para ser desenhado primeiro o que está atrás, e depois desenhar
 o que está na frente, sobrescrevendo áreas que deveriam estar ocultas.
 Essa técnica se chama 
\end_layout

\begin_layout Section
Identificação de pacotes – assuntos
\end_layout

\begin_layout Itemize
Pacote de malhas: organiza o objeto desenhado em vetores, facilita o acesso
 do simulador às propriedades de cada célula.
\end_layout

\begin_layout Itemize
Pacote de simulação: nela está presente o coração do simulador: o solver
 da equação da temperatura, discretizada por métodos numéricos, e resolvida
 por método iterativo.
\end_layout

\begin_layout Itemize
Pacote de interpolação: utilizado para realizar interpolação com propriedades
 termofísicas dos materiais, é acessado pelo simulador, e retorna as propriedade
s do material.
\end_layout

\begin_layout Itemize
Pacote de correlação: mesma função da linha acima, mas para método de correlação.
\end_layout

\begin_layout Itemize
Pacote de interface ao usuário: utilização da biblioteca Qt, para criar
 interface gráfica amigável.
 Fornece um ambiente onde o usuário pode enviar comandos para o simulador
 de maneira fácil, e apresenta os resultados.
\end_layout

\begin_layout Itemize
Pacote de gráficos: utilização da biblioteca qcustomplot, para montar os
 melhores gráficos para o problema.
 É solicitado ao pacote de malhas os resultados da temperatura.
 Está presente junto com o pacote de interface
\end_layout

\begin_layout Standard
 
\end_layout

\begin_layout Section
Diagrama de pacotes – assuntos
\end_layout

\begin_layout Standard
Abaixo é apresentado o diagrama de pacotes (Figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Diagrama-de-Pacotes"

\end_inset

).
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename ../imagens/Diagrama de pacotes.png
	lyxscale 75
	width 75text%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption Standard

\begin_layout Plain Layout
Diagrama de Pacotes
\begin_inset CommandInset label
LatexCommand label
name "fig:Diagrama-de-Pacotes"

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\end_body
\end_document
